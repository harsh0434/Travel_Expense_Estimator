<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel History - Incredible India Travel</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="/static/history.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-brand">
            <a href="/">Incredible India Travel</a>
        </div>
        <div class="nav-links">
            <a href="/">Home</a>
            <a href="/calculator">Cost Calculator</a>
            <a href="/destinations">Destinations</a>
            <a href="/history" class="active">History</a>
            <a href="/profile" id="profileLink">Profile</a>
            <button id="logoutBtn" class="btn-logout">Logout</button>
        </div>
    </nav>

    <!-- History Header -->
    <section class="history-header">
        <h1>Your Travel History</h1>
        <p>View and manage your past travel expense calculations</p>
    </section>

    <!-- History Controls -->
    <section class="history-controls">
        <div class="search-filter">
            <input type="text" id="searchInput" placeholder="Search destinations...">
            <select id="sortSelect">
                <option value="date-desc">Latest First</option>
                <option value="date-asc">Oldest First</option>
                <option value="cost-desc">Highest Cost First</option>
                <option value="cost-asc">Lowest Cost First</option>
            </select>
        </div>
        <button id="clearHistory" class="btn-danger">Clear History</button>
    </section>

    <!-- History List -->
    <section class="history-list">
        <!-- History items will be dynamically added here -->
        <div id="historyContainer"></div>
        
        <!-- Loading State -->
        <div id="loadingState" class="loading-state">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Loading your travel history...</p>
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <i class="fas fa-history"></i>
            <h3>No Travel History Yet</h3>
            <p>Start planning your trips using our cost calculator!</p>
            <a href="/calculator" class="btn-primary">Go to Calculator</a>
        </div>
    </section>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>Delete Confirmation</h3>
            <p>Are you sure you want to delete this travel calculation?</p>
            <div class="modal-buttons">
                <button id="confirmDelete" class="btn-danger">Delete</button>
                <button id="cancelDelete" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>About Us</h3>
                <p>Incredible India Travel helps you plan your perfect trip to India with accurate cost estimates and comprehensive travel information.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/calculator">Cost Calculator</a></li>
                    <li><a href="/destinations">Destinations</a></li>
                    <li><a href="/history">History</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: support@incredibleindiatravel.com</p>
                <p>Phone: +91 1234567890</p>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Incredible India Travel. All rights reserved.</p>
        </div>
    </footer>

    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='history.js') }}"></script>
</body>
</html> 